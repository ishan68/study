ECs is used to manage and run container in aws. It is a cluster of EC2 instances and within ec2 instances there are serveral containers running. 
It is highly scalable.
It is of two types

1 - Farget hosted model
2 - Ec2 hosted model

ec2 hosted model - in this you will be able to see ec2 instances and within that there will be containers. In this model you will have to manage clusters and edverything.

farget model - in this model aws will manage everythig and you won't see ec2 instances in dashboard. you just have to cpecify the size and type,

Ec2 hosted are cheaper. But if your tasks are not running for very long and there is fluctations in resources then use frgate model.

Lets start with demo ----

Lets create ECR first
Create a repo in ecr . e.g express-app
Now you will have to create an IAM role and attach it to ec2 instance
Go to IAM and click on  roles click create role and select ec2 and in permiison we have to attach AmazonEC2ContainerRegistryFullAccess 
Now attach this role to ec2 instance
Now create a private repo and selct it. click on view push commands and use command for login in ec2 terminal
tag and push the image from ec2 instance to ecr,
Now refresh ecr and you will see image over there


GO TO ecs give select ec2 with networking and give cluster a name pick instance type select instance key pair
in networking -  select default vpc and select first ubnet - enable auto assign ip selecr appropriate sg and role..now click create cluster. You will see 2 instances
getting created in ec2 dashboard

Now go to your cluser and click tasks - 
Task Definition — This a blueprint that describes how a docker container should launch.If you are already familiar with AWS, it is like a LaunchConfig except 
instead it is for a docker container instead of a instance. It contains settings like exposed port, docker image, cpu shares, memory requirement, 
command to run and environmental variables.
Task — This is a running container with the settings defined in the Task Definition. It can be thought of as an “instance” of a Task Definition.
Service — Defines long running tasks of the same Task Definition. This can be 1 running container or multiple running containers all 
using the same Task Definition
 
click on add container and give it a name and in image section add uri of ecr image e.g - 566751471526.dkr.ecr.us-east-1.amazonaws.com/express-app:latest

 and map the port with your local e.g 8080 with 5000 now create it
 
 Now go back to taks and click run a new task

